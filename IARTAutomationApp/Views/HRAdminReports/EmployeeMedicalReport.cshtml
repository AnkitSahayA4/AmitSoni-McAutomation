@using IARTAutomationApp.Models

@model  IARTAutomationApp.ViewModels.EmployeeAll

@{
    ViewBag.Title = "Reports";

    int sr = 1;
    string nhisNo = "",nhisProvider="",bloodGrop="",genotype="";
}


<!-- Main content -->
<div class="content">

    <ol class="breadcrumb bc-colored bg-success m-b-3">
        <li class="breadcrumb-item"><a href="#">Reports</a></li>
        <li class="breadcrumb-item active">Employees Medical Information Report</li>
    </ol>

    <div class="card">
        <div class="card-body">
            <h4 class="text-black">Employees Medical Information Report</h4>
            <p>Export data to Copy, CSV, Excel & PDF</p>
            <div class="table-responsive">
                <table id="empmi" class="table table-bordered table-hover" data-name="cool-table">
                    <thead>
                        <tr>

                            <th>File No</th>
                            <th>Employee Code</th>
                            <th>Title</th>
                            <th>First Name</th>
                            <th>Middle Name</th>
                            <th>Sur Name</th>
                            <th>Sex</th>
                            <th>NHIS No.</th>
                            <th>NHIS Provider</th>
                            <th>Blood Group</th>
                            <th>Genotype</th>

                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.employeegi)
                        {

                            { sr = sr + 1; }
                            <tr>
                                <td>@item.File_No</td>
                                <td>@item.EmployeeCode</td>
                                <td>@item.Title</td>
                                <td>@item.First_Name</td>
                                <td>@item.Middle_Name</td>
                                <td>@item.Surname</td>
                                <td>@item.Sex</td>
                               
                              

                                @foreach (var item1 in Model.employeemi.Where(x => x.EmployeeCode == item.EmployeeCode))
                                {
                                    { nhisNo =item1.NhisNo;
                                        nhisProvider = item1.NhisProvider;

                                        bloodGrop = item1.BloodGroup;

                                        genotype = item1.BloodGenotype;

                                    }
                                  
                                }

                                <td>@nhisNo</td>
                                <td>@nhisProvider</td>
                                <td>@bloodGrop</td>
                                <td>@genotype</td>
                            </tr>
                        } 
                    </tbody>
                    <tfoot>
                        <tr>

                            <th>File No</th>
                            <th>Employee Code</th>
                            <th>Title</th>
                            <th>First Name</th>
                            <th>Middle Name</th>
                            <th>Sur Name</th>
                            <th>Sex</th>
                            <th>NHIS No.</th>
                            <th>NHIS Provider</th>
                            <th>Blood Group</th>
                            <th>Genotype</th>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>


</div>
 <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js" type="text/javascript"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.9.2/jquery-ui.min.js" type="text/javascript"></script>
<link href="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.9.2/themes/blitzer/jquery-ui.css" rel="Stylesheet" type="text/css" />

<script src="https://code.jquery.com/jquery-3.3.1.js" type="text/javascript"></script>

<script src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js" type="text/javascript"></script>

<script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js" type="text/javascript"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js" type="text/javascript"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js" type="text/javascript"></script>

<script>

        $('#empmi').DataTable({

                dom: 'Bfrtip',
                buttons: [
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5'
                ],

        });
</script>
@*@Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")*@







<script>
        $('#empsn_wrapper, #empgi_wrapper, #emppi_wrapper, #empmi_wrapper, #empcps_wrapper, #empai_wrapper').find('button').addClass('btn btn-rounded btn-outline-success');
</script>